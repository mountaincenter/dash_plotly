<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>需給 × パフォーマンス分析（4区分）</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        background: '#0d1117',
                        foreground: '#c9d1d9',
                        card: '#161b22',
                        border: '#30363d',
                        muted: '#8b949e',
                        primary: '#58a6ff',
                    }
                }
            }
        }
    </script>
    <style>
        body { background: #0d1117; color: #c9d1d9; }
        .text-foreground { color: #c9d1d9; }
        .text-emerald-400 { color: #34d399; }
        .text-rose-400 { color: #fb7185; }
        .text-amber-400 { color: #fbbf24; }
        .text-sky-400 { color: #38bdf8; }
    </style>
</head>
<body class="min-h-screen p-4 md:p-6">
    <div class="max-w-7xl mx-auto">
        <!-- Header -->
        <header class="mb-6 pb-4 border-b border-gray-700">
            <h1 class="text-xl font-bold text-sky-400">需給 × パフォーマンス分析</h1>
            <p class="text-gray-500 text-sm mt-1">
                総件数: 753件 / 需給データあり: 508件
                <span class="ml-2 text-amber-400">※ショート損益（符号反転済み）</span>
            </p>
        </header>

        <!-- Summary Cards -->
        <div class="grid grid-cols-2 md:grid-cols-5 gap-3 mb-6">
            <div class="rounded-xl border border-gray-700 bg-gray-800/50 p-4">
                <div class="text-gray-500 text-sm mb-1">需給データあり</div>
                <div class="text-2xl font-bold tabular-nums">508</div>
            </div>
            <div class="rounded-xl border border-gray-700 bg-gray-800/50 p-4">
                <div class="text-gray-500 text-sm mb-1">10:25</div>
                <div class="text-2xl font-bold tabular-nums text-foreground">+664,356円</div>
            </div>
            <div class="rounded-xl border border-gray-700 bg-gray-800/50 p-4">
                <div class="text-gray-500 text-sm mb-1">前場引け</div>
                <div class="text-2xl font-bold tabular-nums text-foreground">+705,173円</div>
            </div>
            <div class="rounded-xl border border-gray-700 bg-gray-800/50 p-4">
                <div class="text-gray-500 text-sm mb-1">14:45</div>
                <div class="text-2xl font-bold tabular-nums text-emerald-400">+1,069,066円</div>
            </div>
            <div class="rounded-xl border border-gray-700 bg-gray-800/50 p-4">
                <div class="text-gray-500 text-sm mb-1">大引け</div>
                <div class="text-2xl font-bold tabular-nums text-foreground">+864,663円</div>
            </div>
        </div>

        <!-- 貸借倍率別 -->
        <div class="mb-6">
            <h2 class="text-base font-semibold mb-3">貸借倍率別パフォーマンス</h2>
            <div class="rounded-xl border border-gray-700 bg-gray-800/50 p-4">
                <p class="text-gray-500 text-sm mb-3">
                    貸借倍率 = 買残 ÷ 売残（損益はショート視点: +は利益、-は損失）<br>
                    <span class="text-amber-400">期待: 買い優勢（>10）→ 将来の売り圧力 → ショート有利、売り優勢（<1）→ 買い戻し → ショート不利</span>
                </p>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm">
                        <thead>
                            <tr class="border-b border-gray-700">
                                <th class="py-2 text-left text-gray-500 font-medium">貸借倍率</th>
                                <th class="py-2 text-right text-gray-500 font-medium">件数</th>
                                <th class="py-2 text-right text-gray-500 font-medium">10:25</th>
                                <th class="py-2 text-right text-gray-500 font-medium">%</th>
                                <th class="py-2 text-right text-gray-500 font-medium">前場引</th>
                                <th class="py-2 text-right text-gray-500 font-medium">%</th>
                                <th class="py-2 text-right text-gray-500 font-medium">14:45</th>
                                <th class="py-2 text-right text-gray-500 font-medium">%</th>
                                <th class="py-2 text-right text-gray-500 font-medium">大引</th>
                                <th class="py-2 text-right text-gray-500 font-medium">%</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b border-gray-700/50 bg-rose-900/20">
                                <td class="py-2.5 text-left"><1 (売り優勢)</td>
                                <td class="py-2.5 text-right tabular-nums">17</td>
                                <td class="py-2.5 text-right tabular-nums text-foreground">-115,700</td>
                                <td class="py-2.5 text-right tabular-nums text-rose-400">35%</td>
                                <td class="py-2.5 text-right tabular-nums text-rose-400">-126,950</td>
                                <td class="py-2.5 text-right tabular-nums text-rose-400">29%</td>
                                <td class="py-2.5 text-right tabular-nums text-foreground">-118,900</td>
                                <td class="py-2.5 text-right tabular-nums text-rose-400">29%</td>
                                <td class="py-2.5 text-right tabular-nums text-foreground">-117,200</td>
                                <td class="py-2.5 text-right tabular-nums text-rose-400">29%</td>
                            </tr>
                            <tr class="border-b border-gray-700/50 ">
                                <td class="py-2.5 text-left">1-3</td>
                                <td class="py-2.5 text-right tabular-nums">111</td>
                                <td class="py-2.5 text-right tabular-nums text-foreground">-82,964</td>
                                <td class="py-2.5 text-right tabular-nums text-rose-400">45%</td>
                                <td class="py-2.5 text-right tabular-nums text-foreground">-128,800</td>
                                <td class="py-2.5 text-right tabular-nums text-rose-400">48%</td>
                                <td class="py-2.5 text-right tabular-nums text-foreground">-34,095</td>
                                <td class="py-2.5 text-right tabular-nums text-rose-400">44%</td>
                                <td class="py-2.5 text-right tabular-nums text-rose-400">-157,900</td>
                                <td class="py-2.5 text-right tabular-nums text-rose-400">41%</td>
                            </tr>
                            <tr class="border-b border-gray-700/50 ">
                                <td class="py-2.5 text-left">3-10</td>
                                <td class="py-2.5 text-right tabular-nums">120</td>
                                <td class="py-2.5 text-right tabular-nums text-foreground">+360,376</td>
                                <td class="py-2.5 text-right tabular-nums text-emerald-400">57%</td>
                                <td class="py-2.5 text-right tabular-nums text-foreground">+374,559</td>
                                <td class="py-2.5 text-right tabular-nums text-emerald-400">52%</td>
                                <td class="py-2.5 text-right tabular-nums text-foreground">+421,087</td>
                                <td class="py-2.5 text-right tabular-nums text-emerald-400">54%</td>
                                <td class="py-2.5 text-right tabular-nums text-emerald-400">+425,450</td>
                                <td class="py-2.5 text-right tabular-nums text-emerald-400">55%</td>
                            </tr>
                            <tr class="border-b border-gray-700/50 bg-emerald-900/20">
                                <td class="py-2.5 text-left">>10 (買い優勢)</td>
                                <td class="py-2.5 text-right tabular-nums">260</td>
                                <td class="py-2.5 text-right tabular-nums text-foreground">+502,644</td>
                                <td class="py-2.5 text-right tabular-nums text-rose-400">49%</td>
                                <td class="py-2.5 text-right tabular-nums text-foreground">+586,364</td>
                                <td class="py-2.5 text-right tabular-nums text-emerald-400">53%</td>
                                <td class="py-2.5 text-right tabular-nums text-emerald-400">+800,974</td>
                                <td class="py-2.5 text-right tabular-nums text-emerald-400">52%</td>
                                <td class="py-2.5 text-right tabular-nums text-foreground">+714,313</td>
                                <td class="py-2.5 text-right tabular-nums text-emerald-400">54%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- 相関係数 -->
        <div class="mb-6">
            <h2 class="text-base font-semibold mb-3">相関係数（貸借倍率 vs 損益）</h2>
            <div class="rounded-xl border border-gray-700 bg-gray-800/50 p-4">
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div class="text-center">
                        <div class="text-gray-500 text-sm">10:25</div>
                        <div class="text-xl font-bold tabular-nums text-emerald-400">0.004</div>
                        <div class="text-xs text-gray-500">相関なし</div>
                    </div>
                    <div class="text-center">
                        <div class="text-gray-500 text-sm">前場引け</div>
                        <div class="text-xl font-bold tabular-nums text-emerald-400">0.014</div>
                        <div class="text-xs text-gray-500">相関なし</div>
                    </div>
                    <div class="text-center">
                        <div class="text-gray-500 text-sm">14:45</div>
                        <div class="text-xl font-bold tabular-nums text-emerald-400">0.012</div>
                        <div class="text-xs text-gray-500">相関なし</div>
                    </div>
                    <div class="text-center">
                        <div class="text-gray-500 text-sm">大引け</div>
                        <div class="text-xl font-bold tabular-nums text-emerald-400">0.009</div>
                        <div class="text-xs text-gray-500">相関なし</div>
                    </div>
                </div>
                <p class="text-gray-500 text-xs mt-4">
                    ※ショート戦略では正の相関が期待される（貸借倍率↑ = 買い優勢 → 将来の売り圧力 → 株価下落 → ショート勝利）
                </p>
            </div>
        </div>

        <!-- 解釈 -->
        <div class="mb-6">
            <h2 class="text-base font-semibold mb-3">分析の解釈</h2>
            <div class="rounded-xl border border-gray-700 bg-gray-800/50 p-4">
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <h3 class="font-semibold text-amber-400 mb-2">ショート戦略での期待</h3>
                        <ul class="text-sm text-gray-400 space-y-1">
                            <li>• 貸借倍率 > 10（買い優勢）→ 将来の売り圧力 → <span class="text-emerald-400">ショートに有利</span></li>
                            <li>• 貸借倍率 < 1（売り優勢）→ 買い戻し需要 → <span class="text-rose-400">ショートに不利</span></li>
                            <li>• 相関係数が正なら、需給分析が有効</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="font-semibold text-sky-400 mb-2">注意点</h3>
                        <ul class="text-sm text-gray-400 space-y-1">
                            <li>• J-Quantsの需給データは週次更新（タイムラグあり）</li>
                            <li>• サンプル数が少ない場合は統計的有意性に注意</li>
                            <li>• grok_trending銘柄は元々ボラティリティが高い</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="text-center text-gray-500 text-xs mt-8">
            Generated: 2026-01-24 03:45:47
        </div>
    </div>
</body>
</html>